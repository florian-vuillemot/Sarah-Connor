version: '3'
services:
  authentication:
    image: osixia/openldap:1.2.4
    environment:
      - LDAP_ORGANISATION=Skynet
      - LDAP_DOMAIN=skynet.com
      - LDAP_ADMIN_PASSWORD=${LDAP_ADMIN_PASSWORD}
    volumes:
      - /tmp/ldap-data:/var/lib/ldap
      - /tmp/ldap-slapd:/etc/ldap/slapd.d
    networks:
      ldap:
        aliases:
          - skynet.com

  authentication_admin:
      image: osixia/phpldapadmin:0.7.2
      environment:
        - PHPLDAPADMIN_LDAP_HOSTS=skynet.com
      ports:
        - 6443:443
      networks:
        - ldap

networks:
  ldap:
    driver: bridge